import{j as u}from"./jsx-runtime-CexXSJP5.js";import{c as ve}from"./clsx-B-dksMZM.js";import{a as U}from"./setPrototypeOf-DM9aTif1.js";import{r as e}from"./index-BP8_t0zE.js";import{_ as Se,h as o,i as _e,e as P,j as ye,a as X,S as Y,u as he}from"./Select-DgVWUGjx.js";import{u as Oe}from"./useCreatable-d97ef2c9.esm-qsThzvjN.js";import"./index-BxmsGmlx.js";import{L as be}from"./Label-U7w9Tf6e.js";import{H as K}from"./Hint-BgND6QIn.js";var Ve=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function Z(t){var i=t.defaultOptions,a=i===void 0?!1:i,s=t.cacheOptions,n=s===void 0?!1:s,m=t.loadOptions;t.options;var p=t.isLoading,I=p===void 0?!1:p,v=t.onInputChange,b=t.filterOption,j=b===void 0?null:b,V=Se(t,Ve),d=V.inputValue,l=e.useRef(void 0),c=e.useRef(!1),E=e.useState(Array.isArray(a)?a:void 0),g=o(E,2),L=g[0],S=g[1],$=e.useState(typeof d<"u"?d:""),A=o($,2),C=A[0],_=A[1],N=e.useState(a===!0),q=o(N,2),R=q[0],y=q[1],ee=e.useState(void 0),W=o(ee,2),w=W[0],D=W[1],te=e.useState([]),B=o(te,2),ae=B[0],F=B[1],ne=e.useState(!1),M=o(ne,2),re=M[0],x=M[1],se=e.useState({}),k=o(se,2),h=k[0],z=k[1],oe=e.useState(void 0),G=o(oe,2),ie=G[0],le=G[1],ue=e.useState(void 0),J=o(ue,2),pe=J[0],de=J[1];n!==pe&&(z({}),de(n)),a!==ie&&(S(Array.isArray(a)?a:void 0),le(a)),e.useEffect(function(){return c.current=!0,function(){c.current=!1}},[]);var T=e.useCallback(function(O,f){if(!m)return f();var r=m(O,f);r&&typeof r.then=="function"&&r.then(f,function(){return f()})},[m]);e.useEffect(function(){a===!0&&T(C,function(O){c.current&&(S(O||[]),y(!!l.current))})},[]);var ce=e.useCallback(function(O,f){var r=_e(O,f,v);if(!r){l.current=void 0,_(""),D(""),F([]),y(!1),x(!1);return}if(n&&h[r])_(r),D(r),F(h[r]),y(!1),x(!1);else{var me=l.current={};_(r),y(!0),x(!w),T(r,function(H){c&&me===l.current&&(l.current=void 0,y(!1),D(r),F(H||[]),x(!1),z(H?P(P({},h),{},ye({},r,H)):h))})}},[n,T,w,h,v]),fe=re?[]:C&&w?ae:L||[];return P(P({},V),{},{options:fe,isLoading:R||I,onInputChange:ce,filterOption:j})}var ge=e.forwardRef(function(t,i){var a=Z(t),s=X(a),n=Oe(s);return e.createElement(Y,U({ref:i},n))}),Ae=ge,Ce=e.forwardRef(function(t,i){var a=Z(t),s=X(a);return e.createElement(Y,U({ref:i},s))}),qe=Ce;const Q=({name:t,label:i,labelPosition:a="top",hintText:s,errorMsg:n,isValid:m,disabled:p,reserveSpaceForError:I,required:v,isCreatable:b,menuPlacement:j="auto",menuPosition:V="absolute",placeholder:d,defaultOptions:l=!1,loadOptions:c,formatOptionLabel:E,options:g=[],onChange:L,small:S,centerOptinons:$,labelEndAdornment:A,...C})=>{const _=b?Ae:qe,N=!!(I||n||s),q=typeof d=="string"?`${d}${v?" *":""}`:d,R=he({disabled:p,menuPlacement:j,menuPosition:V,placeholder:q,onChange:L,formatOptionLabel:E,centerOptinons:$,options:g,...C});return u.jsxs("div",{className:"ui-select",children:[u.jsx(be,{text:i,htmlFor:t,required:v,disabled:p,position:a,endAdornment:A,className:"ui-select__label",small:S,children:u.jsx("div",{className:ve("ui-select__container ",{"ui-select__container--small":S,"ui-select__container--disabled":p,"ui-select__container--error":!!n,"ui-select__container--success":m&&!n}),children:u.jsx(_,{...R,defaultOptions:l,loadOptions:c})})}),N&&u.jsxs("div",{className:"ui-select__validation-wrapper",children:[n&&u.jsx(K,{variant:"error",children:n}),!n&&s&&u.jsx(K,{children:s})]})]})};try{Q.displayName="AsyncSelect",Q.__docgenInfo={description:"",displayName:"AsyncSelect",props:{small:{defaultValue:null,description:"",name:"small",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},labelPosition:{defaultValue:{value:"top"},description:"",name:"labelPosition",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom"'}]}},required:{defaultValue:null,description:"Marks the value-holding input as required for form validation",name:"required",required:!1,type:{name:"boolean"}},hintText:{defaultValue:null,description:"",name:"hintText",required:!1,type:{name:"string"}},errorMsg:{defaultValue:null,description:"",name:"errorMsg",required:!1,type:{name:"ReactNode"}},isValid:{defaultValue:null,description:"",name:"isValid",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},reserveSpaceForError:{defaultValue:null,description:"",name:"reserveSpaceForError",required:!1,type:{name:"boolean"}},isCreatable:{defaultValue:null,description:"",name:"isCreatable",required:!1,type:{name:"boolean"}},centerOptinons:{defaultValue:null,description:"",name:"centerOptinons",required:!1,type:{name:"boolean"}},labelEndAdornment:{defaultValue:null,description:"",name:"labelEndAdornment",required:!1,type:{name:"ReactNode"}},options:{defaultValue:{value:"[]"},description:"Array of options that populate the select menu",name:"options",required:!1,type:{name:"OptionType[]"}}}}}catch{}export{Q as A};
