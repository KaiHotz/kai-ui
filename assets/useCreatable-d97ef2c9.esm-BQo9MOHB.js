import{_ as q,b as x,d as C,v as z,e as j,g as B,f as F}from"./Select-IwGuar_0.js";import{r as b}from"./index-BP8_t0zE.js";var G=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],M=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,o=String(t).toLowerCase(),n=String(s.getOptionValue(a)).toLowerCase(),g=String(s.getOptionLabel(a)).toLowerCase();return n===o||g===o},L={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,a,s,o){return!(!t||a.some(function(n){return M(t,n,o)})||s.some(function(n){return M(t,n,o)}))},getNewOptionData:function(t,a){return{label:a,value:t,__isNew__:!0}}};function J(e){var t=e.allowCreateWhileLoading,a=t===void 0?!1:t,s=e.createOptionPosition,o=s===void 0?"last":s,n=e.formatCreateLabel,g=n===void 0?L.formatCreateLabel:n,w=e.isValidNewOption,N=w===void 0?L.isValidNewOption:w,h=e.getNewOptionData,c=h===void 0?L.getNewOptionData:h,v=e.onCreateOption,$=e.options,l=$===void 0?[]:$,O=e.onChange,i=q(e,G),V=i.getOptionValue,_=V===void 0?B:V,P=i.getOptionLabel,S=P===void 0?F:P,r=i.inputValue,y=i.isLoading,D=i.isMulti,d=i.value,W=i.name,p=b.useMemo(function(){return N(r,x(d),l,{getOptionValue:_,getOptionLabel:S})?c(r,g(r)):void 0},[g,c,S,_,r,N,l,d]),k=b.useMemo(function(){return(a||!y)&&p?o==="first"?[p].concat(C(l)):[].concat(C(l),[p]):l},[a,o,y,p,l]),E=b.useCallback(function(u,m){if(m.action!=="select-option")return O(u,m);var A=Array.isArray(u)?u:[u];if(A[A.length-1]===p){if(v)v(r);else{var f=c(r,r),T={action:"create-option",name:W,option:f};O(z(D,[].concat(C(x(d)),[f]),f),T)}return}O(u,m)},[c,r,D,W,p,v,O,d]);return j(j({},i),{},{options:k,onChange:E})}export{J as u};
