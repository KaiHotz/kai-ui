import{r as e,R as l}from"./index-CDs2tPxN.js";import{c as me}from"./clsx-B-dksMZM.js";import{c as ve,d as i,h as Se,e as q,f as _e,u as Q,a as Oe,S as U,_ as X,b as ye}from"./Select-BfCsZq1G.js";import"./index-B-yFm4aN.js";import{L as he}from"./Label-5g4jD_uN.js";import{H as K}from"./Hint-CwrnwYvC.js";var be=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function Y(a){var o=a.defaultOptions,t=o===void 0?!1:o,s=a.cacheOptions,r=s===void 0?!1:s,d=a.loadOptions;a.options;var S=a.isLoading,I=S===void 0?!1:S,_=a.onInputChange,O=a.filterOption,L=O===void 0?null:O,y=ve(a,be),h=y.inputValue,u=e.useRef(void 0),p=e.useRef(!1),b=e.useState(Array.isArray(t)?t:void 0),C=i(b,2),V=C[0],A=C[1],T=e.useState(typeof h<"u"?h:""),E=i(T,2),P=E[0],R=E[1],Z=e.useState(t===!0),j=i(Z,2),k=j[0],f=j[1],M=e.useState(void 0),F=i(M,2),$=F[0],N=F[1],ee=e.useState([]),H=i(ee,2),te=H[0],w=H[1],ae=e.useState(!1),W=i(ae,2),se=W[0],g=W[1],ne=e.useState({}),B=i(ne,2),m=B[0],z=B[1],re=e.useState(void 0),G=i(re,2),oe=G[0],ie=G[1],ue=e.useState(void 0),J=i(ue,2),le=J[0],pe=J[1];r!==le&&(z({}),pe(r)),t!==oe&&(A(Array.isArray(t)?t:void 0),ie(t)),e.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]);var x=e.useCallback(function(v,c){if(!d)return c();var n=d(v,c);n&&typeof n.then=="function"&&n.then(c,function(){return c()})},[d]);e.useEffect(function(){t===!0&&x(P,function(v){p.current&&(A(v||[]),f(!!u.current))})},[]);var ce=e.useCallback(function(v,c){var n=Se(v,c,_);if(!n){u.current=void 0,R(""),N(""),w([]),f(!1),g(!1);return}if(r&&m[n])R(n),N(n),w(m[n]),f(!1),g(!1);else{var fe=u.current={};R(n),f(!0),g(!$),x(n,function(D){p&&fe===u.current&&(u.current=void 0,f(!1),N(n),w(D||[]),g(!1),z(D?q(q({},m),{},_e({},n,D)):m))})}},[r,x,$,m,_]),de=se?[]:P&&$?te:V||[];return q(q({},y),{},{options:de,isLoading:k||I,onInputChange:ce,filterOption:L})}var Ce=e.forwardRef(function(a,o){var t=Y(a),s=Q(t),r=Oe(s);return e.createElement(U,X({ref:o},r))}),Ae=Ce,Ee=e.forwardRef(function(a,o){var t=Y(a),s=Q(t);return e.createElement(U,X({ref:o},s))}),Pe=Ee;const ge=({name:a,label:o,hintText:t,errorMsg:s,disabled:r,reserveSpaceForError:d,required:S,isCreatable:I,menuPlacement:_="auto",menuPosition:O="absolute",defaultOptions:L=!1,loadOptions:y,formatOptionLabel:h,options:u,onChange:p,small:b,centerOptinons:C,labelEndAdornment:V,...A})=>{const T=I?Ae:Pe,E=!!(d||s||t),P=ye({disabled:r,menuPlacement:_,menuPosition:O,onChange:p,formatOptionLabel:h,centerOptinons:C,options:u,...A});return l.createElement("div",{className:"ui-select"},o&&l.createElement(he,{htmlFor:a,required:S,disabled:r,isError:!!s,endAdornment:V,className:"ui-select__label",small:b},o),l.createElement("div",{className:me("ui-select__container ",{"ui-select__container--small":b,"ui-select__container--disabled":r,"ui-select__container--error":!!s})},l.createElement(T,{...P,defaultOptions:L,loadOptions:y})),E&&l.createElement("div",{className:"ui-select__validation-wrapper"},s&&l.createElement(K,{variant:"error"},s),!s&&t&&l.createElement(K,null,t)))};ge.__docgenInfo={description:"",methods:[],displayName:"AsyncSelect",props:{small:{required:!1,tsType:{name:"boolean"},description:""},label:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},hintText:{required:!1,tsType:{name:"string"},description:""},errorMsg:{required:!1,tsType:{name:"ReactNode"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},reserveSpaceForError:{required:!1,tsType:{name:"boolean"},description:""},isCreatable:{required:!1,tsType:{name:"boolean"},description:""},centerOptinons:{required:!1,tsType:{name:"boolean"},description:""},labelEndAdornment:{required:!1,tsType:{name:"ReactNode"},description:""},menuPlacement:{defaultValue:{value:"'auto'",computed:!1},required:!1},menuPosition:{defaultValue:{value:"'absolute'",computed:!1},required:!1},defaultOptions:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["AsyncProps"]};export{ge as A};
