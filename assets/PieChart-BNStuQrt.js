import{j as V}from"./jsx-runtime-CexXSJP5.js";import{r}from"./index-BP8_t0zE.js";import{c as q}from"./clsx-B-dksMZM.js";import{h as z,H as C,a as O}from"./highcharts-react.min-B1FlHyGk.js";const I={percentage:'<span class="ui-pie-chart__label"><span class="ui-pie-chart__label-badge" style="background: {color}">{percentage:.1f}%</span> <span class="ui-pie-chart__label-text">{point.name}</span></span>',value:'<span class="ui-pie-chart__label"><span class="ui-pie-chart__label-badge" style="background: {color}">{point.value}</span> <span class="ui-pie-chart__label-text">{point.name}</span></span>'},v=r.forwardRef(({data:t,selected:l,onLabelClick:i,options:u,size:c=80,innerSize:p=35,containerProps:d,callback:y,sortByValues:m=!0,onLegedItemClick:f,labelFormat:h="percentage",labelDistance:g=25,className:b},k)=>{const s=r.useMemo(()=>t.reduce((n,o)=>n+o.value,0),[t]),_=r.useMemo(()=>({className:q("ui-pie-chart",{"ui-pie-chart--clickable":i},b),...d}),[i,b,d]),x=r.useMemo(()=>{const n=m?[...t].sort((e,a)=>e.value-a.value):t,o=n.length?n[n.length-1].value:0;return z.merge({chart:{spacing:[10,10,10,10],animation:!1},legend:{enabled:!1},lang:{noData:"No data to display"},noData:{position:{verticalAlign:"top"},style:{fontWeight:"bold",fontSize:"14px",color:"#303030"}},xAxis:{tickInterval:1,tickmarkPlacement:"on",tickPosition:"outside",startOnTick:!0,endOnTick:!0,maxPadding:0,minPadding:0,labels:{padding:0}},yAxis:{tickWidth:0,lineWidth:0,gridLineWidth:.3,startOnTick:!0,endOnTick:!0,maxPadding:0,minPadding:0,tickAmount:7,allowDecimals:!1},plotOptions:{variablepie:{zMin:0,zMax:l?100:o/s*100,center:["50%","50%"],startAngle:180,size:`${c}%`,innerSize:`${p}%`,point:{events:{legendItemClick:f}}},series:{...i?{point:{events:{click:e=>{const a=e.point;i({id:a.id,label:a.label,value:a.value})}}}}:{},animation:!1,dataLabels:{format:I[h],distance:g,connectorWidth:0,allowOverlap:!0,padding:0,overflow:"justify",useHTML:!0,style:{fontSize:"16px",fontWeight:"normal"}},states:{hover:{enabled:!1},inactive:{opacity:1}}}},tooltip:{enabled:!1},series:[{type:"variablepie",showInLegend:!0,colorByPoint:!0,data:n.map(e=>{const a=l===e.id,P=l?a?100:75:e.value/s*100;return{...e,y:e.value,selected:a,name:e.label,z:P}})}]},u)},[t,i,p,f,l,s,c,u,m,h,g]);return V.jsx(C,{highcharts:O,options:x,containerProps:_,callback:y,ref:k})});try{v.displayName="PieChart",v.__docgenInfo={description:"before usage required this initialization:",displayName:"PieChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"IPieChartData[]"}},containerProps:{defaultValue:null,description:"",name:"containerProps",required:!1,type:{name:"{ [key: string]: unknown; }"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:'Omit<Options, "series" | "colors">'}},size:{defaultValue:{value:"80"},description:"",name:"size",required:!1,type:{name:"number"}},innerSize:{defaultValue:{value:"35"},description:"",name:"innerSize",required:!1,type:{name:"number"}},sortByValues:{defaultValue:{value:"true"},description:"",name:"sortByValues",required:!1,type:{name:"boolean"}},labelFormat:{defaultValue:{value:"percentage"},description:"",name:"labelFormat",required:!1,type:{name:"enum",value:[{value:'"value"'},{value:'"percentage"'}]}},labelDistance:{defaultValue:{value:"25"},description:"",name:"labelDistance",required:!1,type:{name:"number"}},onLegedItemClick:{defaultValue:null,description:"",name:"onLegedItemClick",required:!1,type:{name:"PointLegendItemClickCallbackFunction"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onLabelClick:{defaultValue:null,description:"",name:"onLabelClick",required:!1,type:{name:"((item: IPieChartData) => void)"}},callback:{defaultValue:null,description:"",name:"callback",required:!1,type:{name:"((chart: Chart) => void)"}}}}}catch{}export{v as P};
