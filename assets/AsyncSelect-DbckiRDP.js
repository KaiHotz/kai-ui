import{j as l}from"./jsx-runtime-CexXSJP5.js";import{c as ve}from"./clsx-B-dksMZM.js";import{a as K}from"./setPrototypeOf-DM9aTif1.js";import{r as e}from"./index-BP8_t0zE.js";import{_ as Se,c as i,h as _e,d as x,e as ye,u as Q,a as he,S as U,b as Oe}from"./Select-Chh2-Tzi.js";import"./index-BxmsGmlx.js";import{L as be}from"./Label-Dj0iuwZQ.js";import{H as G}from"./Hint-BgND6QIn.js";var Ae=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function X(a){var o=a.defaultOptions,t=o===void 0?!1:o,n=a.cacheOptions,s=n===void 0?!1:n,c=a.loadOptions;a.options;var S=a.isLoading,I=S===void 0?!1:S,_=a.onInputChange,y=a.filterOption,E=y===void 0?null:y,h=Se(a,Ae),O=h.inputValue,u=e.useRef(void 0),p=e.useRef(!1),b=e.useState(Array.isArray(t)?t:void 0),A=i(b,2),P=A[0],C=A[1],L=e.useState(typeof O<"u"?O:""),V=i(L,2),g=V[0],j=V[1],Y=e.useState(t===!0),F=i(Y,2),Z=F[0],f=F[1],ee=e.useState(void 0),H=i(ee,2),N=H[0],R=H[1],te=e.useState([]),T=i(te,2),ae=T[0],$=T[1],ne=e.useState(!1),W=i(ne,2),re=W[0],q=W[1],se=e.useState({}),B=i(se,2),m=B[0],M=B[1],oe=e.useState(void 0),k=i(oe,2),ie=k[0],ue=k[1],le=e.useState(void 0),z=i(le,2),pe=z[0],de=z[1];s!==pe&&(M({}),de(s)),t!==ie&&(C(Array.isArray(t)?t:void 0),ue(t)),e.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]);var w=e.useCallback(function(v,d){if(!c)return d();var r=c(v,d);r&&typeof r.then=="function"&&r.then(d,function(){return d()})},[c]);e.useEffect(function(){t===!0&&w(g,function(v){p.current&&(C(v||[]),f(!!u.current))})},[]);var ce=e.useCallback(function(v,d){var r=_e(v,d,_);if(!r){u.current=void 0,j(""),R(""),$([]),f(!1),q(!1);return}if(s&&m[r])j(r),R(r),$(m[r]),f(!1),q(!1);else{var me=u.current={};j(r),f(!0),q(!N),w(r,function(D){p&&me===u.current&&(u.current=void 0,f(!1),R(r),$(D||[]),q(!1),M(D?x(x({},m),{},ye({},r,D)):m))})}},[s,w,N,m,_]),fe=re?[]:g&&N?ae:P||[];return x(x({},h),{},{options:fe,isLoading:Z||I,onInputChange:ce,filterOption:E})}var Ce=e.forwardRef(function(a,o){var t=X(a),n=Q(t),s=he(n);return e.createElement(U,K({ref:o},s))}),Ve=Ce,ge=e.forwardRef(function(a,o){var t=X(a),n=Q(t);return e.createElement(U,K({ref:o},n))}),qe=ge;const J=({name:a,label:o,hintText:t,errorMsg:n,disabled:s,reserveSpaceForError:c,required:S,isCreatable:I,menuPlacement:_="auto",menuPosition:y="absolute",defaultOptions:E=!1,loadOptions:h,formatOptionLabel:O,options:u=[],onChange:p,small:b,centerOptinons:A,labelEndAdornment:P,...C})=>{const L=I?Ve:qe,V=!!(c||n||t),g=Oe({disabled:s,menuPlacement:_,menuPosition:y,onChange:p,formatOptionLabel:O,centerOptinons:A,options:u,...C});return l.jsxs("div",{className:"ui-select",children:[o&&l.jsx(be,{text:o,htmlFor:a,required:S,disabled:s,isError:!!n,endAdornment:P,className:"ui-select__label",small:b}),l.jsx("div",{className:ve("ui-select__container ",{"ui-select__container--small":b,"ui-select__container--disabled":s,"ui-select__container--error":!!n}),children:l.jsx(L,{...g,defaultOptions:E,loadOptions:h})}),V&&l.jsxs("div",{className:"ui-select__validation-wrapper",children:[n&&l.jsx(G,{variant:"error",children:n}),!n&&t&&l.jsx(G,{children:t})]})]})};try{J.displayName="AsyncSelect",J.__docgenInfo={description:"",displayName:"AsyncSelect",props:{small:{defaultValue:null,description:"",name:"small",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"Marks the value-holding input as required for form validation",name:"required",required:!1,type:{name:"boolean"}},hintText:{defaultValue:null,description:"",name:"hintText",required:!1,type:{name:"string"}},errorMsg:{defaultValue:null,description:"",name:"errorMsg",required:!1,type:{name:"ReactNode"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},reserveSpaceForError:{defaultValue:null,description:"",name:"reserveSpaceForError",required:!1,type:{name:"boolean"}},isCreatable:{defaultValue:null,description:"",name:"isCreatable",required:!1,type:{name:"boolean"}},centerOptinons:{defaultValue:null,description:"",name:"centerOptinons",required:!1,type:{name:"boolean"}},labelEndAdornment:{defaultValue:null,description:"",name:"labelEndAdornment",required:!1,type:{name:"ReactNode"}},options:{defaultValue:{value:"[]"},description:"Array of options that populate the select menu",name:"options",required:!1,type:{name:"OptionType[]"}}}}}catch{}export{J as A};
